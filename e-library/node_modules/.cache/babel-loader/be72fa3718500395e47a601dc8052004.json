{"ast":null,"code":"import { userData } from \"../../api/db_user_data\";\nimport * as actionTypes from './userInfoTypes'; // Reducers\n// Functions taking in (state, action)\n// and return new state\n//define initial state object\n//set initial state based on user logged\n\nconst initialState = {\n  history: userData[0].history,\n  fav: userData[0].fav,\n  wishlist: userData[0].wishlist,\n  cnt: 0\n}; // TODO: make changes in database too!\n// TODO: all operations should happen for particular user\n\nconst userInfoReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.ADD_TO_FAV:\n      return { ...state,\n        fav: [...state.fav, action.payload.id],\n        cnt: state.cnt + 1\n      };\n\n    case actionTypes.DEL_FROM_FAV:\n      console.log('doing reducer action to remove ', action.payload.id, ' from fav');\n      return { ...state,\n        fav: state.fav.filter(f => f !== action.payload.id),\n        cnt: state.cnt + 1\n      };\n\n    case actionTypes.ADD_TO_HISTORY:\n      return { ...state,\n        history: [state.history, {\n          id: action.payload.id,\n          time: action.payload.time\n        }]\n      };\n\n    case actionTypes.DEL_FROM_HISTORY:\n      console.log(`Deleting ${(action.payload.id, action.payload.time)} from history`);\n      return { ...state,\n        history: state.history.filter(h => h.date !== action.payload.time)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userInfoReducer;","map":{"version":3,"sources":["C:/Users/SAI KRISHNA/OneDrive/Desktop/FSD PROJECT/e-library/e-library/src/Components/userInfo/userInfoReducer.js"],"names":["userData","actionTypes","initialState","history","fav","wishlist","cnt","userInfoReducer","state","action","type","ADD_TO_FAV","payload","id","DEL_FROM_FAV","console","log","filter","f","ADD_TO_HISTORY","time","DEL_FROM_HISTORY","h","date"],"mappings":"AAAA,SAASA,QAAT,QAAyB,wBAAzB;AACA,OAAO,KAAKC,WAAZ,MAA6B,iBAA7B,C,CACA;AACA;AACA;AAEA;AACA;;AACA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAEH,QAAQ,CAAC,CAAD,CAAR,CAAYG,OADJ;AAEjBC,EAAAA,GAAG,EAAEJ,QAAQ,CAAC,CAAD,CAAR,CAAYI,GAFA;AAGjBC,EAAAA,QAAQ,EAAEL,QAAQ,CAAC,CAAD,CAAR,CAAYK,QAHL;AAIjBC,EAAAA,GAAG,EAAE;AAJY,CAArB,C,CAOA;AACA;;AACA,MAAMC,eAAe,GAAG,YAA8B;AAAA,MAA7BC,KAA6B,uEAAvBN,YAAuB;AAAA,MAATO,MAAS;;AAClD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKT,WAAW,CAACU,UAAjB;AACI,aAAO,EACH,GAAGH,KADA;AAEHJ,QAAAA,GAAG,EAAE,CAAC,GAAGI,KAAK,CAACJ,GAAV,EAAeK,MAAM,CAACG,OAAP,CAAeC,EAA9B,CAFF;AAGHP,QAAAA,GAAG,EAAEE,KAAK,CAACF,GAAN,GAAU;AAHZ,OAAP;;AAKJ,SAAKL,WAAW,CAACa,YAAjB;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA8CP,MAAM,CAACG,OAAP,CAAeC,EAA7D,EAAiE,WAAjE;AACA,aAAO,EACH,GAAGL,KADA;AAEHJ,QAAAA,GAAG,EAAEI,KAAK,CAACJ,GAAN,CAAUa,MAAV,CAAkBC,CAAD,IAAMA,CAAC,KAAKT,MAAM,CAACG,OAAP,CAAeC,EAA5C,CAFF;AAGHP,QAAAA,GAAG,EAAEE,KAAK,CAACF,GAAN,GAAY;AAHd,OAAP;;AAKJ,SAAKL,WAAW,CAACkB,cAAjB;AACI,aAAO,EACH,GAAGX,KADA;AAEHL,QAAAA,OAAO,EAAE,CAACK,KAAK,CAACL,OAAP,EAAgB;AAACU,UAAAA,EAAE,EAACJ,MAAM,CAACG,OAAP,CAAeC,EAAnB;AAAuBO,UAAAA,IAAI,EAACX,MAAM,CAACG,OAAP,CAAeQ;AAA3C,SAAhB;AAFN,OAAP;;AAIJ,SAAKnB,WAAW,CAACoB,gBAAjB;AACIN,MAAAA,OAAO,CAACC,GAAR,CAAa,YAAD,CAAYP,MAAM,CAACG,OAAP,CAAeC,EAAf,EAAmBJ,MAAM,CAACG,OAAP,CAAeQ,IAA9C,CAAmD,eAA/D;AACA,aAAO,EACH,GAAGZ,KADA;AAEHL,QAAAA,OAAO,EAAEK,KAAK,CAACL,OAAN,CAAcc,MAAd,CAAsBK,CAAD,IAAMA,CAAC,CAACC,IAAF,KAASd,MAAM,CAACG,OAAP,CAAeQ,IAAnD;AAFN,OAAP;;AAIJ;AACI,aAAOZ,KAAP;AA1BR;AA4BH,CA7BD;;AA+BA,eAAeD,eAAf","sourcesContent":["import { userData } from \"../../api/db_user_data\"\r\nimport * as actionTypes from './userInfoTypes'\r\n// Reducers\r\n// Functions taking in (state, action)\r\n// and return new state\r\n\r\n//define initial state object\r\n//set initial state based on user logged\r\nconst initialState = {\r\n    history: userData[0].history,\r\n    fav: userData[0].fav,\r\n    wishlist: userData[0].wishlist,\r\n    cnt: 0\r\n}\r\n\r\n// TODO: make changes in database too!\r\n// TODO: all operations should happen for particular user\r\nconst userInfoReducer = (state=initialState, action)=>{\r\n    switch(action.type){\r\n        case actionTypes.ADD_TO_FAV:\r\n            return {\r\n                ...state,\r\n                fav: [...state.fav, action.payload.id],\r\n                cnt: state.cnt+1\r\n            }\r\n        case actionTypes.DEL_FROM_FAV:\r\n            console.log('doing reducer action to remove ',action.payload.id, ' from fav')\r\n            return {\r\n                ...state,\r\n                fav: state.fav.filter((f)=> f !== action.payload.id),\r\n                cnt: state.cnt + 1\r\n            }\r\n        case actionTypes.ADD_TO_HISTORY:\r\n            return {\r\n                ...state,\r\n                history: [state.history, {id:action.payload.id, time:action.payload.time}]\r\n            }\r\n        case actionTypes.DEL_FROM_HISTORY:\r\n            console.log(`Deleting ${action.payload.id, action.payload.time} from history`)\r\n            return {\r\n                ...state,\r\n                history: state.history.filter((h)=> h.date!==action.payload.time)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default userInfoReducer;"]},"metadata":{},"sourceType":"module"}